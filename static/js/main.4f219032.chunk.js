(this["webpackJsonpproject-2-ravencoin-block-explorer"]=this["webpackJsonpproject-2-ravencoin-block-explorer"]||[]).push([[0],{50:function(t,e,n){t.exports=n(74)},55:function(t,e,n){},57:function(t,e,n){},63:function(t,e,n){},64:function(t,e,n){},65:function(t,e,n){},66:function(t,e,n){},67:function(t,e,n){},68:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),r=n(24),c=n.n(r),o=(n(55),n(3)),i=n.n(o),l=n(7),u=n(29),h=n(19),d=n(9),p=n(10),m=n(12),f=n(11),v=(n(57),n(17)),k=n(4),b=function(t){var e=t.runningTransactions.map((function(e){return s.a.createElement("div",{key:e.txid,className:"dataRow"},s.a.createElement("div",{className:"transactionItem"},s.a.createElement(k.b,{to:t.hostingURL+"/tx/"+e.txid},1!==e.txid.length?e.txid.substring(0,40)+"...":"")),s.a.createElement("div",{className:"transactionItem"},e.valueOut," ",1!==e.txid.length?"RVN":" "))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"headerRow"},s.a.createElement("div",{className:"transactionItem"},"Latest Transactions by Hash"),s.a.createElement("div",{className:"transactionItem"},"Value Out")),s.a.createElement("div",null,e))},g=function(t){var e=t.runningBlocks.map((function(e){return s.a.createElement("div",{key:e.height,className:"dataRow"},s.a.createElement("div",{className:"blockItem"},s.a.createElement(k.b,{to:t.hostingURL+"/block/"+e.hash},e.height)),s.a.createElement("div",{className:"blockItem"},e.tx.length),s.a.createElement("div",{className:"blockItem"},e.size))}));return e.sort((function(t,e){return e.key-t.key})),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"headerRow"},s.a.createElement("div",{className:"blockItem"},"Latest Blocks by Height"),s.a.createElement("div",{className:"blockItem"},"Transactions"),s.a.createElement("div",{className:"blockItem"},"Size")),s.a.createElement("div",null,e))},E=function(t){var e=t.randomAssets.map((function(e){return s.a.createElement("div",{key:e.name,className:"dataRow"},s.a.createElement("div",{className:"assetItem"},s.a.createElement(k.b,{to:t.hostingURL+"/asset/"+e.link},e.name)),s.a.createElement("div",{className:"assetItem"},e.amount),s.a.createElement("div",{className:"assetItem"},e.block))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"headerRow"},s.a.createElement("div",{className:"assetItem"},"Random Assets"),s.a.createElement("div",{className:"assetItem"},"Amount"),s.a.createElement("div",{className:"assetItem"},"Creation Block")),s.a.createElement("div",null,e))},y=(n(63),function(t){return s.a.createElement("div",null,s.a.createElement("div",{className:"homeSection runningBlocks"},s.a.createElement(g,{runningBlocks:t.runningBlocks,hostingURL:t.hostingURL})),s.a.createElement("div",{className:"homeSection runningTransactions"},s.a.createElement(b,{runningTransactions:t.runningTransactions,hostingURL:t.hostingURL})),s.a.createElement("div",{className:"homeSection randomAssets"},s.a.createElement(E,{randomAssets:t.randomAssets,hostingURL:t.hostingURL})))}),x=(n(64),function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var t=this,e=this.props.transaction.vin.map((function(e){return e.coinbase?s.a.createElement("div",{key:e.n},"No Inputs, New Coins"):s.a.createElement("div",{key:e.n},s.a.createElement(k.b,{to:t.props.hostingURL+"/addr/"+e.addr,onClick:function(){return t.props.setAddress(e.addr)}},e.addr)," ",s.a.createElement("span",null,e.value))})),n=this.props.transaction.vout.map((function(e){return e.scriptPubKey.addresses?s.a.createElement("div",{key:e.n},s.a.createElement(k.b,{to:t.props.hostingURL+"/addr/"+e.scriptPubKey.addresses[0],onClick:function(){return t.props.setAddress(e.scriptPubKey.addresses[0])}},e.scriptPubKey.addresses[0])," ",e.value):s.a.createElement("div",{key:e.n},"OP RETURN")}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("p",null,"Transaction:"," ",s.a.createElement(k.b,{to:this.props.hostingURL+"/tx/"+this.props.transaction.txid},this.props.transaction.txid))),s.a.createElement("div",{className:"addressSection"},"Inputs: ",e),s.a.createElement("div",{className:"addressSection"},"Outputs: ",n),s.a.createElement("div",null,s.a.createElement("p",null,"Fee: ",this.props.transaction.fees)))}}]),n}(a.Component)),S=(n(65),function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var t=this,e=this.props.transactions.map((function(e){return s.a.createElement("div",{key:e.txid,className:"transactionSection"},s.a.createElement(x,{transaction:e,setStateElement:t.props.setStateElement,setAddress:t.props.setAddress,hostingURL:t.props.hostingURL}))}));return s.a.createElement(s.a.Fragment,null,e)}}]),n}(a.Component)),w=(n(66),function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.setTransaction(this.props.match.params.txHash)}},{key:"Unix_timestamp",value:function(t){return new Date(1e3*t)+""}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"mainTransactionSection"},s.a.createElement("p",null,"Received Time: ",this.Unix_timestamp(this.props.transaction.time)),s.a.createElement("p",null,"Mined Time:"," ",this.props.transaction.blocktime?this.Unix_timestamp(this.props.transaction.blocktime):""),s.a.createElement("p",null,"Included in Block:"," ",this.props.transaction.blockhash?s.a.createElement(k.b,{to:this.props.hostingURL+"/block/"+this.props.transaction.blockhash},this.props.transaction.blockhash):"")),s.a.createElement(S,{transactions:this.props.transactions,setStateElement:this.props.setStateElement,setAddress:this.props.setAddress,hostingURL:this.props.hostingURL}))}}]),n}(a.Component)),R=n(38),O=(n(67),function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(d.a)(this,n),(a=e.call(this,t)).controller=new AbortController,a.signal=a.controller.signal,a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=Object(l.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.clearBlock();case 2:e=this.signal,this.props.setBlock(this.props.match.params.blockHash,{signal:e});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.controller.abort()}},{key:"render",value:function(){var t=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"blockSection"},s.a.createElement("h3",null,"Block Height:",this.props.block.height),s.a.createElement("p",null,"Block Hash:",this.props.block.hash),s.a.createElement("div",{className:"blockNav"},s.a.createElement("div",{className:"previousBlock"},s.a.createElement(k.b,{to:this.props.hostingURL+"/block/"+this.props.block.previousblockhash,onClick:function(){return t.props.setBlock(t.props.block.previousblockhash)}},"Previous Block")),s.a.createElement("div",{className:"nextBlock"}," ",s.a.createElement(k.b,{to:this.props.hostingURL+"/block/"+this.props.block.nextblockhash,onClick:function(){return t.props.setBlock(t.props.block.nextblockhash)}},this.props.block.nextblockhash?"Next Block":"")))),s.a.createElement(S,{transactions:this.props.transactions,setStateElement:this.props.setStateElement,setAddress:this.props.setAddress,hostingURL:this.props.hostingURL}),s.a.createElement(R.a,{variant:"primary",onClick:function(){return t.props.setMoreBlockTransactions()},className:this.props.transactions.length<this.props.block.tx.length?"":"hidden"},"Load More Transactions"))}}]),n}(a.Component)),T=n(40),j=n(77),N=n(78),A=n(41);n(68);function B(){var t=Object(T.a)(["\n\t.navbar {\n\t\tbackground-color: #222;\n\t}\n\n\t.navbar-brand,\n\t.navbar-nav,\n\t.nav-link {\n\t\tcolor: #bbb;\n\n\t\t&:hover {\n\t\t\tcolor: white;\n\t\t}\n\t}\n"]);return B=function(){return t},t}var U=A.a.div(B()),L=function(t){var e=t.searchTest[0].slice(0,10).map((function(e){return s.a.createElement("div",{key:e},s.a.createElement(k.b,{to:t.hostingURL+"/asset/"+t.convertToUrlNew(e),onClick:t.searchClicked,"data-category":"asset","data-hash":e},"Asset: "+e))})),n=JSON.stringify(t.searchTest[1])!==JSON.stringify(["Not found"])?s.a.createElement(k.b,{to:t.hostingURL+"/block/"+t.searchTest[1].blockHash,onClick:t.searchClicked,"data-category":"block","data-hash":t.searchTest[1].blockHash},"Block: "+t.searchTest[1].blockHash.substring(0,30)+"..."):"",a=JSON.stringify(t.searchTest[2])!==JSON.stringify(["Not found"])?s.a.createElement(k.b,{to:t.hostingURL+"/block/"+t.searchTest[2].hash,onClick:t.searchClicked,"data-category":"block","data-hash":t.searchTest[2].hash},"Block: "+t.searchTest[2].hash.substring(0,30)+"..."):"",r=JSON.stringify(t.searchTest[3])!==JSON.stringify(["Not found"])?s.a.createElement(k.b,{to:t.hostingURL+"/addr/"+t.searchTest[3].addrStr,onClick:t.searchClicked,"data-category":"address","data-hash":t.searchTest[3].addrStr},"Address: "+t.searchTest[3].addrStr):"",c=JSON.stringify(t.searchTest[4])!==JSON.stringify(["Not found"])?s.a.createElement(k.b,{to:t.hostingURL+"/tx/"+t.searchTest[4].txid,onClick:t.searchClicked,"data-category":"tx","data-hash":t.searchTest[4].txid},"Transaction: "+t.searchTest[4].txid.substring(0,30)+"..."):"";return s.a.createElement(U,null,s.a.createElement(j.a,{expand:"lg",fixed:"top"},s.a.createElement(j.a.Brand,null,s.a.createElement(k.b,{to:t.hostingURL+"/"},"Ravencoin Explorer")),s.a.createElement(N.a,{className:"ml-auto"},s.a.createElement("input",{autoComplete:"off",placeholder:"Search for Block, Address, Transaction, or Asset",onChange:t.handleChange.bind(void 0),name:"search",value:t.search}),s.a.createElement("div",{className:"search-overlay"},s.a.createElement("div",null,n),s.a.createElement("div",null,a),s.a.createElement("div",null,r),s.a.createElement("div",null,c),s.a.createElement("div",null,e)))))},C=(n(73),function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(d.a)(this,n),(a=e.call(this,t)).controller=new AbortController,a.signal=a.controller.signal,a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=Object(l.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.clearAddress();case 2:e=this.signal,this.props.setAddress(this.props.match.params.address,{signal:e});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.controller.abort()}},{key:"render",value:function(){var t=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"mainAddressSection"},s.a.createElement("h3",null,this.props.address.addrStr),s.a.createElement("p",null,"Final Balance:",this.props.address.totalReceived," RVN"),s.a.createElement("p",null,"Final Balance:",this.props.address.totalSent," RVN"),s.a.createElement("p",null,"Final Balance:",this.props.address.balance," RVN"),s.a.createElement("p",null,"Transactions:",this.props.address.txApperances)),s.a.createElement("div",null,s.a.createElement(S,{transactions:this.props.transactions,setStateElement:this.props.setStateElement,setAddress:this.props.setAddress,hostingURL:this.props.hostingURL})),s.a.createElement("button",{onClick:function(){return t.props.setMoreAddressTransactions()},className:this.props.transactions.length<this.props.address.transactions.length?"":"hidden"}," ","Load More Transactions"))}}]),n}(a.Component)),I=function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.setStateElement("asset",this.props.match.params.asset)}},{key:"render",value:function(){var t=Object.keys(this.props.asset)[0];return s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"name: ",t),s.a.createElement("p",null,"amount: ",this.props.asset[t].amount),s.a.createElement("p",null,"units: ",this.props.asset[t].units),s.a.createElement("p",null,"reissuable: ",this.props.asset[t].reissuable),s.a.createElement("p",null,"has_ipfs: ",this.props.asset[t].has_ipfs),s.a.createElement("p",null,"block_height: ",this.props.asset[t].block_height),s.a.createElement("p",null,"blockhash:"," ",s.a.createElement(k.b,{to:this.props.hostingURL+"/block/"+this.props.asset[t].blockhash},this.props.asset[t].blockhash)))}}]),n}(a.Component),M=n(76),P=function(t){return s.a.createElement(M.a,null,t.children)},F="https://ravenexplorer.net",H="/Project-2-Ravencoin-Block-Explorer",J="/api/assets?verbose=true&asset=",_="/api/tx/",D={address:"/api/addr/",asset:J,block:"/api/block/",transaction:_},V={tx:[]},K=[{txid:"",vin:[],vout:[]}],W={transactions:[]},z=[{txid:"a"},{txid:"b"},{txid:"c"},{txid:"d"},{txid:"e"},{txid:"f"},{txid:"g"},{txid:"h"},{txid:"i"},{txid:"j"}],q=[[],["Not found"],["Not found"],["Not found"],["Not found"]],$=["#"],G=["%23"],Q=["/","#"],X=["%2F","%23"],Y=function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(d.a)(this,n),(a=e.call(this,t)).replaceAtNew=function(t,e,n){return t.substring(0,e)+n+t.substring(e+1)},a.convertToUrlNew=function(t){for(var e,n=t.slice(),s=0;s<Q.length;s++)for(e=n.indexOf(Q[s]);e>0;)e=(n=a.replaceAtNew(n,e,X[s])).indexOf(Q[s]);return n},a.state={hostingURL:H,transaction:{vin:[],vout:[]},runningTransactions:z,block:V,runningBlocks:[],address:W,transactions:K,asset:{temp:{}},randomAssets:[],search:"",searchMatch:[],searchTest:q,latestBlock:0},a.myRef=s.a.createRef(),a}return Object(p.a)(n,[{key:"addRunningTransaction",value:function(t){for(var e=[t].concat(Object(h.a)(this.state.runningTransactions));e.length>10;)e.pop();this.setState({runningTransactions:e})}},{key:"addRunningBlock",value:function(t){for(var e=this,n=[t].concat(Object(h.a)(this.state.runningBlocks));n.length>10;)n.pop();this.setState({runningBlocks:n},(function(){return e.setLatestBlock()}))}},{key:"setLatestBlock",value:function(){for(var t=[],e=0;e<this.state.runningBlocks.length;e++)t.push(this.state.runningBlocks[e].height);this.setState({latestBlock:Math.max.apply(Math,t)})}},{key:"setStateElement",value:function(t,e){var n=this,a=D[t];this.getAPIElement(a,e).then((function(e){n.setState(Object(u.a)({},t,e))})).catch((function(t){return console.error(t)}))}},{key:"fetchBlock",value:function(){var t=Object(l.a)(i.a.mark((function t(e){var n,a,s,r,c,o,u=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},a=n.signal,t.next=3,fetch(F+"/api/block/"+e,{signal:a}).catch((function(t){return console.error("wow an error!",t)}));case 3:return s=t.sent,t.next=6,s.json();case 6:return r=t.sent,c=r.tx.slice(0,10),o=c.map(function(){var t=Object(l.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(F+_+e,{signal:a}).catch((function(t){return console.error("wow an error!",t)}));case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.t0=r,t.next=12,Promise.all(o);case 12:return t.t1=t.sent,t.abrupt("return",[t.t0,t.t1]);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"setBlock",value:function(){var t=Object(l.a)(i.a.mark((function t(e){var n,a,s,r=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},a=n.signal,t.next=3,this.fetchBlock(e,{signal:a});case 3:s=t.sent,this.setState({block:s[0],transactions:s[1]});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setTransaction",value:function(){var t=Object(l.a)(i.a.mark((function t(e){var n,a,s=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},n.signal,t.next=3,this.getAPIElement(_,e);case 3:a=t.sent,this.setState({transaction:a,transactions:[a]});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"clearBlock",value:function(){this.setState({block:V,transactions:K})}},{key:"loadMoreBlockTransactions",value:function(){var t=this.state.block,e=this.state.transactions.length,n=t.tx.slice(e,e+25).map(function(){var t=Object(l.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(F+_+e).catch((function(t){console.error("wow an error!",t)}));case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return Promise.all(n)}},{key:"setMoreBlockTransactions",value:function(){var t=Object(l.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadMoreBlockTransactions();case 2:e=t.sent,n=Object(h.a)(this.state.transactions).concat(e),this.setState({transactions:n});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchAddress",value:function(){var t=Object(l.a)(i.a.mark((function t(e){var n,a,s,r,c,o,u=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},a=n.signal,t.next=3,fetch(F+"/api/addr/"+e,{signal:a}).catch((function(t){return console.error("wow an error!",t)}));case 3:return s=t.sent,t.next=6,s.json();case 6:return r=t.sent,c=r.transactions.slice(0,10),o=c.map(function(){var t=Object(l.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(F+_+e,{signal:a}).catch((function(t){return console.error("wow an error!",t)}));case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.t0=r,t.next=12,Promise.all(o);case 12:return t.t1=t.sent,t.abrupt("return",[t.t0,t.t1]);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"setAddress",value:function(){var t=Object(l.a)(i.a.mark((function t(e){var n,a,s,r=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},a=n.signal,t.next=3,this.fetchAddress(e,{signal:a});case 3:s=t.sent,this.setState({address:s[0],transactions:s[1]});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"clearAddress",value:function(){this.setState({address:W})}},{key:"loadMoreAddressTransactions",value:function(){var t=this.state.address,e=this.state.transactions.length,n=t.transactions.slice(e,e+25).map(function(){var t=Object(l.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(F+_+e).catch((function(t){console.error("wow an error!",t)}));case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return Promise.all(n)}},{key:"setMoreAddressTransactions",value:function(){var t=Object(l.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadMoreAddressTransactions();case 2:e=t.sent,n=Object(h.a)(this.state.transactions).concat(e),this.setState({transactions:n});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"addTransaction",value:function(t){var e=[t].concat(Object(h.a)(this.state.transactions));this.setState({transactions:e})}},{key:"addStateElement",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"back",a=Object(h.a)(this.state[t]);"front"===n?a.unshift(e):a.push(e),this.setState(Object(u.a)({},t,a))}},{key:"getAPIElement",value:function(t,e){var n=e.toString();return new Promise((function(e,a){fetch(F+t+function(t){for(var e,n,a,s,r=t.slice(),c=0;c<$.length;c++)for(e=r.indexOf($[c]);e>0;)a=e,s=G[c],e=(r=(n=r).substring(0,a)+s+n.substring(a+1)).indexOf($[c]);return r}(n)).then((function(t){return t.json()})).then((function(t){e(t)})).catch((function(t){return a(t)}))}))}},{key:"addRandomAssets",value:function(){var t=Object(l.a)(i.a.mark((function t(){var e,n,a,s,r,c=this;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=function(t,e,n){return t.substring(0,e)+n+t.substring(e+1)},a=function(t){for(var e,a=t.slice(),s=0;s<Q.length;s++)for(e=a.indexOf(Q[s]);e>0;)e=(a=n(a,e,X[s])).indexOf(Q[s]);return a},s=this,r=0;r<10;r++)e=Math.floor(23463*Math.random())+1,this.getAPIElement("/api/assets?asset=*&size=1&skip=",e).then((function(t){c.getAPIElement(J,t[0]).then((function(e){var n=e[t[0]];s.addStateElement("randomAssets",{name:n.name,link:a(n.name),amount:n.amount,block:n.block_height})}))}));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"addRecentBlocks",value:function(){var t,e=this,n=this;this.getAPIElement("/api/status?q=getInfo","").then((function(a){t=a.info.blocks,e.setState({latestBlock:t}),function(){for(var e=0;e<10;e++)n.getAPIElement("/api/block-index/",t-e).then((function(t){n.getAPIElement("/api/block/",t.blockHash).then((function(t){return n.addStateElement("runningBlocks",t)}))}))}()}))}},{key:"io",value:function(){}},{key:"componentDidMount",value:function(){var t=Object(l.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addRandomAssets(),this.addRecentBlocks(),(e=document.createElement("script")).src="https://ravenexplorer.net/socket.io/socket.io.js",e.async=!0,document.body.appendChild(e),n=this,setTimeout((function(){var t=this.io(F+"/");t.on("connect",(function(){t.emit("subscribe","inv")})),t.on("tx",(function(t){n.getAPIElement(_,t.txid).then((function(t){return n.addRunningTransaction(t)})).catch((function(t){return console.log(t)}))})),t.on("block",(function(t){n.getAPIElement("/api/block/",t).then((function(t){return n.addRunningBlock(t)})).catch((function(t){return console.log(t)}))}))}),500);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"handleChange",value:function(t){var e=this;this.setState(Object(u.a)({},t.target.name,t.target.value),(function(){e.clearThenSpeculativeSearch()}))}},{key:"clearThenSpeculativeSearch",value:function(){var t=this;this.setState({searchTest:q},(function(){t.speculativeSearch()}))}},{key:"clearSearch",value:function(){var t=this;this.setState({search:[]},(function(){t.setState({searchTest:q})}))}},{key:"speculativeSearch",value:function(){""!==this.state.search&&this.fetchSearch(this.state.search)}},{key:"searchClicked",value:function(t){"addr"===t.target.dataset.category?this.setAddress(t.target.dataset.hash):"block"===t.target.dataset.category?this.setBlock(t.target.dataset.hash):"tx"===t.target.dataset.category?this.setTransaction(t.target.dataset.hash):"asset"===t.target.dataset.category&&this.setStateElement("asset",this.convertToUrlNew(t.target.dataset.hash)),this.clearSearch()}},{key:"addSearchMatch",value:function(t,e){var n={category:t,object:e},a=Object(h.a)(this.state.searchMatch);a.push(n),this.setState({searchMatch:a})}},{key:"fetchSearch",value:function(){var t=Object(l.a)(i.a.mark((function t(e){var n,a,s,r=this,c=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},a=n.signal,s=[{searchCategory:"asset",searchURL:"/api/assets?asset="},{searchCategory:"blockIndex",searchURL:"/api/block-index/"},{searchCategory:"blockHash",searchURL:"/api/block/"},{searchCategory:"address",searchURL:"/api/addr/"},{searchCategory:"transaction",searchURL:_}].map(function(){var t=Object(l.a)(i.a.mark((function t(n){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(F+n.searchURL+r.convertToUrlNew(e)+("asset"===n.searchCategory?"*":""),{signal:a}).catch((function(t){return console.error("wow an error!",t)}));case 2:return s=t.sent,t.abrupt("return",s.json());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.t0=this,t.next=6,Promise.all(s);case 6:t.t1=t.sent,t.t2={searchTest:t.t1},t.t0.setState.call(t.t0,t.t2);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setSearch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.signal,n=this.fetchSearch(this.state.search,{signal:e});return n}},{key:"render",value:function(){var t=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(P,null,s.a.createElement("div",null,s.a.createElement("nav",null,s.a.createElement(L,{handleChange:this.handleChange.bind(this),searchTest:this.state.searchTest,searchClicked:this.searchClicked.bind(this),search:this.state.search,convertToUrlNew:this.convertToUrlNew.bind(this),hostingURL:this.state.hostingURL})),s.a.createElement("main",null,s.a.createElement(v.a,{path:H+"/",exact:!0,render:function(e){return s.a.createElement(y,{runningTransactions:t.state.runningTransactions,runningBlocks:t.state.runningBlocks,randomAssets:t.state.randomAssets,hostingURL:t.state.hostingURL})}}),s.a.createElement(v.a,{path:H+"/tx/:txHash",render:function(e){return s.a.createElement(w,{match:e.match,setStateElement:t.setStateElement.bind(t),transactions:t.state.transactions,setAddress:t.setAddress.bind(t),setTransaction:t.setTransaction.bind(t),transaction:t.state.transaction,hostingURL:t.state.hostingURL})}}),s.a.createElement(v.a,{path:H+"/block/:blockHash",render:function(e){return s.a.createElement(O,{match:e.match,setBlock:t.setBlock.bind(t),setAddress:t.setAddress.bind(t),setStateElement:t.setStateElement.bind(t),block:t.state.block,transactions:t.state.transactions,setMoreBlockTransactions:t.setMoreBlockTransactions.bind(t),onScroll:t.handleScroll,clearBlock:t.clearBlock.bind(t),latestBlock:t.state.latestBlock,hostingURL:t.state.hostingURL})}}),s.a.createElement(v.a,{path:H+"/addr/:address",render:function(e){return s.a.createElement(C,{match:e.match,setAddress:t.setAddress.bind(t),setStateElement:t.setStateElement.bind(t),address:t.state.address,transactions:t.state.transactions,clearAddress:t.clearAddress.bind(t),setMoreAddressTransactions:t.setMoreAddressTransactions.bind(t),hostingURL:t.state.hostingURL})}}),s.a.createElement(v.a,{path:H+"/asset/:asset",render:function(e){return s.a.createElement(I,{match:e.match,setStateElement:t.setStateElement.bind(t),asset:t.state.asset,hostingURL:t.state.hostingURL})}})))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(k.a,null,s.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.4f219032.chunk.js.map